---
title: STANDARD MIGRATION SUMMARY
icon: file-alt
author: mumu
date: 2025-11-23
category:
  - 技术总结
tag:
  - 总结
---

# GM/T 0009-2023 标准迁移总结

# 概述
- 本文档聚焦 GM/T 0009-2012 → GM/T 0009-2023 的差异点与迁移建议。
- 真实行为以代码为准（见 `src/crypto/sm2` 与 `src/types/constants.ts`）。

## 需要关注的差异
- **用户 ID**：GM/T 0009-2023 推荐 `userId: ''`；库默认仍为 `DEFAULT_USER_ID` 以保持兼容。
- **密文模式**：推荐 C1C3C2；库默认已使用 C1C3C2。
- **公钥格式**：推荐非压缩（04 前缀）；库默认非压缩。

## 迁移建议
1. **新项目**：显式指定 `userId: ''`，并记录密文模式/公钥格式。
2. **存量系统**：维持默认 userId，避免历史签名失效。
3. **互操作**：与外部系统明确约定 userId、密文模式与公钥格式。

## 验证清单
- [ ] SM2 签名/验签（默认与空 userId 各一组）
- [ ] C1C3C2 / C1C2C3 加解密互通
- [ ] 压缩/非压缩公钥互通
- [ ] ASN.1 DER / Raw 签名格式互通

## 后续动作
- 持续补充跨语言测试向量与互操作验证。
- 根据业务需求评估是否提供“默认 userId 切换”配置。
